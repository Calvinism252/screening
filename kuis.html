<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Diagnosa Pornografi</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }
    .gejala { margin-bottom: 15px; padding: 10px; border: 1px solid #ddd; border-radius: 8px; }
    h2 { color: #333; }
    button { padding: 10px 20px; font-size: 16px; cursor: pointer; margin-top: 20px; }
    .hasil { margin-top: 20px; padding: 15px; border-radius: 8px; background: #f9f9f9; }
  </style>
</head>
<body>
  <h1>Diagnosa Tingkat Kecanduan Pornografi</h1>
  <form id="diagnosaForm"></form>
  <button type="button" onclick="hitungDiagnosa()">Lihat Hasil</button>
  <div id="hasil" class="hasil"></div>

  <script>
    // Pertanyaan final dari pakar
    const gejala = [
      { kode: "GA01", teks: "Apakah Anda merasa gemetar saat melihat adegan ranjang?" },
      { kode: "GA02", teks: "Apakah ini pertama kali Anda melihat pria dan wanita tidak berpakaian?" },
      { kode: "GA03", teks: "Apakah Anda merasa mual saat melihat pria dan wanita berciuman?" },
      { kode: "GA04", teks: "Apakah Anda merasa khawatir jika melihat pornografi akan dimarahi?" },
      { kode: "GA05", teks: "Apakah menurut Anda pria dan wanita tidak berpakaian di kamar adalah hal yang wajar?" },
      { kode: "GA06", teks: "Apakah Anda menutup mata ketika tiba-tiba layar gadget memperlihatkan video vulgar?" },
      { kode: "GA07", teks: "Apakah menurut Anda melihat area intim pria maupun wanita adalah dosa?" },
      { kode: "GA08", teks: "Apakah Anda secara berkala mencari gambar/video vulgar?" },
      { kode: "GA09", teks: "Apakah Anda merasa senang saat melihat pria dan wanita tidak berpakaian bersama?" },
      { kode: "GA10", teks: "Apakah Anda merasa bersemangat melihat pria dan wanita berciuman?" },
      { kode: "GA11", teks: "Apakah sulit bagi Anda membuka gadget tanpa membuka gambar porno?" },
      { kode: "GA12", teks: "Apakah Anda merasa ada yang hilang jika tidak membuka gambar/video porno?" },
      { kode: "GA13", teks: "Apakah Anda menikmati cerita romansa yang menceritakan adegan ranjang?" },
      { kode: "GA14", teks: "Apakah Anda tertarik melihat adegan intim pria dan wanita?" },
      { kode: "GA15", teks: "Apakah Anda merasa bergairah saat melihat video/gambar vulgar?" },
      { kode: "GA16", teks: "Apakah Anda merasa pusing/tidak bersemangat jika tidak melihat video porno dalam sehari?" },
      { kode: "GA17", teks: "Apakah Anda berusaha mencari gambar/video porno dari berbagai sumber/daerah?" },
      { kode: "GA18", teks: "Apakah Anda merasa mendengarkan desahan orang berhubungan badan itu menyenangkan?" },
      { kode: "GA19", teks: "Apakah dalam sehari Anda bisa melihat konten pornografi lebih dari satu kali?" },
      { kode: "GA20", teks: "Apakah menurut Anda wajar jika semua orang melihat pornografi setiap hari?" },
      { kode: "GA21", teks: "Apakah Anda merasa video/gambar porno kurang menarik?" },
      { kode: "GA22", teks: "Apakah Anda merasa puas hanya dengan melihat orang berhubungan intim secara langsung?" },
      { kode: "GA23", teks: "Apakah Anda mengekplorasi berbagai gerakan saat berhubungan badan?" },
      { kode: "GA24", teks: "Apakah jumlah film porno yang dilihat tidak lagi memengaruhi kepuasan Anda?" },
      { kode: "GA25", teks: "Apakah Anda merasa bosan hanya menonton film porno?" },
      { kode: "GA26", teks: "Apakah gambar/film porno hanya berputar-putar di imajinasi Anda?" },
      { kode: "GA27", teks: "Apakah Anda melakukan onani/masturbasi untuk memuaskan diri sendiri?" },
      { kode: "GA28", teks: "Apakah Anda ingin memiliki pasangan untuk berhubungan intim?" },
      { kode: "GA29", teks: "Apakah Anda ingin membeli alat bantu seks untuk memenuhi kebutuhan seksual?" },
      { kode: "GA30", teks: "Apakah Anda sering menghabiskan waktu berjam-jam menonton pornografi sehingga mengorbankan aktivitas lain?" }
    ];

    // Rule asli dari pakar
    const rules = {
      P01: ["GA01","GA02","GA03","GA04","GA05","GA06","GA07"], // Early Exposure
      P02: ["GA08","GA09","GA10","GA11","GA12","GA13","GA14","GA15"], // Addiction
      P03: ["GA16","GA17","GA18","GA19","GA20"], // Escalation
      P04: ["GA21","GA22","GA23","GA24","GA25","GA26"], // Desensitization
      P05: ["GA27","GA28","GA29","GA30"] // Action
    };

    const kategori = {
      P01: "Early Exposure",
      P02: "Addiction",
      P03: "Escalation",
      P04: "Desensitization",
      P05: "Action"
    };

    // Render pertanyaan
    const form = document.getElementById("diagnosaForm");
    gejala.forEach(g => {
      const div = document.createElement("div");
      div.className = "gejala";
      div.innerHTML = `
        <label>${g.kode}. ${g.teks}</label><br>
        <input type="radio" name="${g.kode}" value="true"> Ya
        <input type="radio" name="${g.kode}" value="false"> Tidak
      `;
      form.appendChild(div);
    });

    // Hitung hasil diagnosa
    function hitungDiagnosa() {
      let skor = { P01:0, P02:0, P03:0, P04:0, P05:0 };
      gejala.forEach(g => {
        const val = document.querySelector(`input[name="${g.kode}"]:checked`);
        if (val && val.value === "true") {
          for (const p in rules) {
            if (rules[p].includes(g.kode)) skor[p]++;
          }
        }
      });

      // Cari kategori dengan skor tertinggi
      let maxP = null, maxVal = -1;
      for (const p in skor) {
        if (skor[p] > maxVal) {
          maxVal = skor[p];
          maxP = p;
        }
      }

      const hasil = document.getElementById("hasil");
      if (maxVal === 0) {
        hasil.innerHTML = "<b>Hasil:</b> Tidak ada indikasi kecanduan berdasarkan jawaban Anda.";
      } else {
        hasil.innerHTML = `
          <b>Hasil Diagnosa:</b><br>
          Kemungkinan Anda berada pada kategori <b>${kategori[maxP]}</b><br>
          Jumlah gejala terdeteksi: ${maxVal} dari ${rules[maxP].length} gejala.
        `;
      }
    }
  </script>
</body>
</html>
